<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Character</title>
    <link rel="stylesheet" href="/css/character-editor.css">
</head>
<body>
    <div class="container">
        <form id="characterForm" class="character-form">
            <h1>Edit Character</h1>

            <!-- Basic Information -->
            <div class="form-section">
                <h3>Basic Information</h3>
                <div class="form-group">
                    <label for="name">Character Name</label>
                    <input type="text" id="name" name="name" readonly>
                </div>

                <div class="form-group">
                    <label for="category">Category</label>
                    <select id="category" name="category">
                        <option value="">Select Category</option>
                        <option value="Assistant">Assistant</option>
                        <option value="Companion">Companion</option>
                        <option value="Entertainment">Entertainment</option>
                        <option value="Historical">Historical</option>
                        <option value="Game">Game Character</option>
                        <option value="Anime">Anime Character</option>
                        <option value="Movie">Movie Character</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
            </div>

            <!-- Character Description -->
            <div class="form-section">
                <h3>Character Description</h3>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" name="description"></textarea>
                    <div class="helper-text">Tell us about your character.</div>
                </div>
            </div>

            <!-- System Prompt -->
            <div class="form-section">
                <h3>System Prompt</h3>
                <div class="form-group">
                    <label for="systemPrompt">System Prompt</label>
                    <textarea id="systemPrompt" name="systemPrompt"></textarea>
                    <div class="helper-text">Define how your character should behave and interact.</div>
                </div>
            </div>

            <!-- Greetings -->
            <div class="form-section">
                <h3>Greetings</h3>
                <div class="form-group">
                    <label for="greetings">Character Greetings</label>
                    <textarea id="greetings" name="greetings" placeholder="Enter greetings, one per line"></textarea>
                    <div class="helper-text">Enter multiple greetings, one per line.</div>
                </div>
            </div>

            <!-- Voice Settings -->
            <div class="form-section">
                <h3>Voice Settings</h3>
                <div class="form-group">
                    <label for="ttsVoice">TTS Voice</label>
                    <select id="ttsVoice" name="ttsVoice">
                        <option value="">Select Voice</option>
                        <option value="en-GB-LibbyNeural">en-GB-LibbyNeural</option>
                        <option value="en-GB-MaisieNeural">en-GB-MaisieNeural</option>
                        <option value="en-GB-RyanNeural">en-GB-RyanNeural</option>
                        <option value="en-GB-SoniaNeural">en-GB-SoniaNeural</option>
                        <option value="en-GB-ThomasNeural">en-GB-ThomasNeural</option>
                        <option value="en-US-AvaMultilingualNeural">en-US-AvaMultilingualNeural</option>
                        <option value="en-US-AndrewMultilingualNeural">en-US-AndrewMultilingualNeural</option>
                        <option value="en-US-EmmaMultilingualNeural">en-US-EmmaMultilingualNeural</option>
                        <option value="en-US-BrianMultilingualNeural">en-US-BrianMultilingualNeural</option>
                        <option value="en-US-AvaNeural">en-US-AvaNeural</option>
                        <option value="en-US-AndrewNeural">en-US-AndrewNeural</option>
                        <option value="en-US-EmmaNeural">en-US-EmmaNeural</option>
                        <option value="en-US-BrianNeural">en-US-BrianNeural</option>
                        <option value="en-US-AnaNeural">en-US-AnaNeural</option>
                        <option value="en-US-AriaNeural">en-US-AriaNeural</option>
                        <option value="en-US-ChristopherNeural">en-US-ChristopherNeural</option>
                        <option value="en-US-EricNeural">en-US-EricNeural</option>
                        <option value="en-US-GuyNeural">en-US-GuyNeural</option>
                        <option value="en-US-JennyNeural">en-US-JennyNeural</option>
                        <option value="en-US-MichelleNeural">en-US-MichelleNeural</option>
                        <option value="en-US-RogerNeural">en-US-RogerNeural</option>
                        <option value="en-US-SteffanNeural">en-US-SteffanNeural</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="voiceModelType">Voice Model Selection</label>
                    <select id="voiceModelType" name="voiceModelType">
                        <option value="">Choose Voice Model Option</option>
                        <option value="existing">Use Existing Character Model</option>
                        <option value="upload">Upload New Voice Model</option>
                    </select>
                </div>

                <!-- Existing Character Model Selection -->
                <div id="existingModelSection" class="form-group" style="display: none;">
                    <label for="existingCharacterModel">Select Character Voice</label>
                    <select id="existingCharacterModel" name="existingCharacterModel">
                        <option value="">Select a Character's Voice Model</option>
                    </select>
                    <div class="helper-text">Use an existing character's voice model</div>
                </div>

                <!-- Upload section -->
                <div id="modelUploadSection" class="form-group" style="display: none;">
                    <div class="form-group">
                        <label for="modelFile">Model File (.pth)</label>
                        <input type="file" id="modelFile" name="modelFile" accept=".pth">
                        <div class="progress-bar">
                            <div class="progress"></div>
                            <div class="progress-text"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="indexFile">Index File (.index)</label>
                        <input type="file" id="indexFile" name="indexFile" accept=".index">
                        <div class="progress-bar">
                            <div class="progress"></div>
                            <div class="progress-text"></div>
                        </div>
                    </div>
                    <div class="helper-text">Upload new voice model files</div>
                </div>

                <div class="slider-control">
                    <label for="tts_rate">Speech Rate</label>
                    <input type="range" id="tts_rate" name="tts_rate" min="-100" max="100" value="0">
                    <span class="value-display">0</span>
                </div>

                <div class="slider-control">
                    <label for="rvc_pitch">Voice Pitch</label>
                    <input type="range" id="rvc_pitch" name="rvc_pitch" min="-24" max="24" value="0">
                    <span class="value-display">0</span>
                </div>
            </div>

            <!-- AI Parameters -->
            <div class="form-section">
                <h3>AI Parameters</h3>
                <div class="slider-control">
                    <label for="temperature">Temperature</label>
                    <input type="range" id="temperature" name="ai_temperature" 
                           min="0.1" max="2.0" step="0.1" value="0.8">
                    <span class="value-display">0.8</span>
                </div>

                <div class="slider-control">
                    <label for="top_p">Top P</label>
                    <input type="range" id="top_p" name="ai_top_p" 
                           min="0.1" max="1.0" step="0.1" value="0.9">
                    <span class="value-display">0.9</span>
                </div>

                <div class="slider-control">
                    <label for="presence_penalty">Presence Penalty</label>
                    <input type="range" id="presence_penalty" name="ai_presence_penalty" 
                           min="0" max="2.0" step="0.1" value="0.6">
                    <span class="value-display">0.6</span>
                </div>

                <div class="slider-control">
                    <label for="frequency_penalty">Frequency Penalty</label>
                    <input type="range" id="frequency_penalty" name="ai_frequency_penalty" 
                           min="0" max="2.0" step="0.1" value="0.6">
                    <span class="value-display">0.6</span>
                </div>

                <div class="form-group">
                    <label for="max_tokens">Max Response Length</label>
                    <input type="number" id="max_tokens" name="ai_max_tokens" 
                           min="50" max="500" value="150">
                </div>
            </div>

            <!-- Media Upload -->
            <div class="form-section">
                <h3>Media Upload</h3>
                <div class="form-group">
                    <label for="avatar">Avatar Image</label>
                    <input type="file" id="avatar" name="avatar" accept="image/*">
                    <div id="avatarPreview" class="preview"></div>
                    <div class="progress-bar">
                        <div class="progress"></div>
                        <div class="progress-text"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="background">Background Image</label>
                    <input type="file" id="background" name="background" accept="image/*">
                    <div id="backgroundPreview" class="preview"></div>
                    <div class="progress-bar">
                        <div class="progress"></div>
                        <div class="progress-text"></div>
                    </div>
                </div>
            </div>

            <!-- Visibility Settings -->
            <div class="form-section">
                <h3>Visibility Settings</h3>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="isPrivate" name="isPrivate">
                        Make this character private
                    </label>
                    <div class="helper-text">Private characters are only visible to you</div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="form-section danger-zone">
                <h3>Danger Zone</h3>
                <button type="button" id="deleteCharacter" class="delete-btn">Delete Character</button>
            </div>

            <!-- Submit Button -->
            <div class="form-section">
                <button type="submit" class="submit-btn">Update Character</button>
            </div>
        </form>
    </div>
    <script src="/js/characterEditor.js"></script>

</body>
</html>
